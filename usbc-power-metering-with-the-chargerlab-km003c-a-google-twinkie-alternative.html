<!doctype html><html lang=en><head><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="Prior to the adoption of the KM003C as a replacement for the tried and tested Plugable USBC-TKEY (Google Twinkie), we wanted to perform a few checks. Any inline power meter has the possibility of introducing signal interference that can adversely affect bandwidth (by introducing retransmissions). That is one of the primary reasons for almost all"><meta name=robots content="index,follow,noarchive"><link href="https://fonts.googleapis.com/css?family=Open+Sans:400|Old+Standard+TT:400&display=swap" rel=stylesheet media=print type=text/css onload='this.media="all"'><title>KM003C in Action - PSSD Power Consumption Profiling</title><link rel=canonical href=./usbc-power-metering-with-the-chargerlab-km003c-a-google-twinkie-alternative.html><style>*{border:0;font:inherit;font-size:100%;vertical-align:baseline;margin:0;padding:0;color:#000;text-decoration-skip:ink}body{font-family:open sans,myriad pro,Myriad,sans-serif;font-size:17px;line-height:160%;color:#1d1313;max-width:700px;margin:auto}p{margin:20px 0}a img{border:none}img{margin:10px auto;max-width:100%;display:block}.left-justify{float:left}.right-justify{float:right}pre,code{font:12px Consolas,liberation mono,Menlo,Courier,monospace;background-color:#f7f7f7}code{font-size:12px;padding:4px}pre{margin-top:0;margin-bottom:16px;word-wrap:normal;padding:16px;overflow:auto;font-size:85%;line-height:1.45}pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}pre code{display:inline;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}pre code::before,pre code::after{content:normal}em,q,em,dfn{font-style:italic}.sans,html .gist .gist-file .gist-meta{font-family:open sans,myriad pro,Myriad,sans-serif}.mono,pre,code,tt,p code,li code{font-family:Menlo,Monaco,andale mono,lucida console,courier new,monospace}.heading,.serif,h1,h2,h3{font-family:old standard tt,serif}strong{font-weight:600}q:before{content:"\201C"}q:after{content:"\201D"}del,s{text-decoration:line-through}blockquote{font-family:old standard tt,serif;text-align:center;padding:50px}blockquote p{display:inline-block;font-style:italic}blockquote:before,blockquote:after{font-family:old standard tt,serif;content:'\201C';font-size:35px;color:#403c3b}blockquote:after{content:'\201D'}hr{width:40%;height:1px;background:#403c3b;margin:25px auto}h1{font-size:35px}h2{font-size:28px}h3{font-size:22px;margin-top:18px}h1 a,h2 a,h3 a{text-decoration:none}h1,h2{margin-top:28px}#sub-header,.date{color:#403c3b;font-size:13px}#sub-header{margin:0 4px}#nav h1 a{font-size:35px;color:#1d1313;line-height:120%}.posts_listing a,#nav a{text-decoration:none}li{margin-left:20px}ul li{margin-left:5px}ul li{list-style-type:none}ul li:before{content:"\00BB \0020"}#nav ul li:before,.posts_listing li:before{content:'';margin-right:0}#content{text-align:left;width:100%;font-size:15px;padding:60px 0 80px}#content h1,#content h2{margin-bottom:5px}#content h2{font-size:25px}#content .entry-content{margin-top:15px}#content .date{margin-left:3px}#content h1{font-size:30px}.highlight{margin:10px 0}.posts_listing{margin:0 0 50px}.posts_listing li{margin:0 0 25px 15px}.posts_listing li a:hover,#nav a:hover{text-decoration:underline}#nav{text-align:center;position:static;margin-top:60px}#nav ul{display:table;margin:8px auto 0}#nav li{list-style-type:none;display:table-cell;font-size:15px;padding:0 20px}#links{display:flex;justify-content:space-between;margin:50px 0 0}#links :nth-child(1){margin-right:.5em}#links :nth-child(2){margin-left:.5em}#not-found{text-align:center}#not-found a{font-family:old standard tt,serif;font-size:200px;text-decoration:none;display:inline-block;padding-top:225px}@media(max-width:750px){body{padding-left:20px;padding-right:20px}#nav h1 a{font-size:28px}#nav li{font-size:13px;padding:0 15px}#content{margin-top:0;padding-top:50px;font-size:14px}#content h1{font-size:25px}#content h2{font-size:22px}.posts_listing li div{font-size:12px}}@media(max-width:400px){body{padding-left:20px;padding-right:20px}#nav h1 a{font-size:22px}#nav li{font-size:12px;padding:0 10px}#content{margin-top:0;padding-top:20px;font-size:12px}#content h1{font-size:20px}#content h2{font-size:18px}.posts_listing li div{font-size:12px}}@media(prefers-color-scheme:dark){*,#nav h1 a{color:#fdfdfd}body{background:#121212}pre,code{background-color:#262626}#sub-header,.date{color:#bababa}hr{background:#ebebeb}}</style></head><body><section id=nav><h1><a href=./index.html>RiffVib</a></h1><ul><li><a href=./index.xml>Rss</a></li><li><a href=./sitemap.xml>Sitemap</a></li></ul></section><section id=content><h1>KM003C in Action - PSSD Power Consumption Profiling</h1><div id=sub-header>June 2024 Â· 3 minute read</div><div class=entry-content><p>Prior to the adoption of the KM003C as a replacement for the tried and tested Plugable USBC-TKEY (Google Twinkie), we wanted to perform a few checks. Any inline power meter has the possibility of introducing signal interference that can adversely affect bandwidth (by introducing retransmissions). That is one of the primary reasons for almost all low-cost PD analyzers in the market to completely disable data transmission while monitoring the PD traffic.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/18944/in-action-pssd_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>The test setup for the KM003C involves one of the Thunderbolt 3 ports on the Quartz Canyon NUC - our <a href=#>direct-attached storage testbed</a>. The <a href=#>SanDisk Professional PRO-G40</a> was chosen as the target device. A CrystalDiskMark run with a 32GB data span (five passes, and 12 distinct workloads, with each workload separated by 5 second intervals) was processed in three different setups:</p><ul><li>Direct connection to the Thunderbolt 3 host port without inline power metering</li><li>Connection to the Thunderbolt 3 host port with a Plugable USBC-TKEY (Google Twinkie) acting as a man-in-the-middle (MITM)</li><li>Connection to the Thunderbolt 3 host port with a ChargerLAB KM003C as a MITM</li></ul><p>The three screenshots below show the CrystalDiskMark benchmark numbers obtained in each of the above three scenarios.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/18944/final-CDM_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a><br><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/18944/final-CDM-USBC-TKEY_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a><br><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/18944/final-CDM-KM003C_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>Though the vanilla configuration with no MITM comes out on top in all the workloads except for the high queue depth random writes, all the numbers are bunched close together within the realm of run-to-run variations. As such, the impact on the performance numbers with the KM003C is no different from the impact resulting from having the USBC-TKEY as an interposer.</p><p>Moving on to the recorded power consumption data, we first take a look at the numbers polled from the USBC-TKEY at 1 second intervals.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/18944/final-Power.USBC-TKEY_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>A peak of 7.16W was observed via the USBC-TKEY. From the Google Twinkie / USBC-TKEY documentation, it is not clear whether the <i>'twinkie vbus'</i> command reports instantaneous numbers or averaged ones - but, looking at the smoothening, it does appear to be an averaged one.</p><p>In the first pass with the KM003C, we attempted to retain the 1 second polling interval used with the USBC-TKEY. Recording the averaged power consumption made more sense in that case.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/18944/final-Power.KM003C_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a><br><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/18944/final-Power.KM003C.HiRes_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>A peak of 6.63W is observed for the 1s polling interval, and the graph is quite smooth. This needs to be compared with the high-resolution graph (where the data is polled every 100ms, and the instantaneous values are recorded) having a 7.55W peak.</p><p>A 100ms polling interval seems to yield a better record of power consumption spikes. A better idea of the energy efficiency of a bus-powered device can probably be obtained by looking at the sum of the averaged power numbers throughout the duration of the test. For devices like portable SSDs, this will also take into account any deep-sleep idle timeout features and garbage collection activities. Overall, the KM003C appears to expose more interesting data compared to the USBC-TKEY for evaluation of the power and energy efficiency of bus-powered USB devices.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZH55hZNtZq6rkph6sbvWnqlmpZWpsrO1zaBksKGknXq1tMRmmqGZopyys7jAm2SkpWBlgKR5wGaeqKeXobJuwNaipaShlWKurcDEq6WarJmrsnCB</p></div><div id=links><a href=./nick-schmaltz.html>&#171;&nbsp;Nick Schmaltz- Wiki, Age, Height, Net Worth, Girlfriend, Ethnicity</a>
<a href=./jack-manifold.html>Jack Manifold Net Worth, Age, Girlfriend, Family, Biography &amp;amp; More&nbsp;&#187;</a></div></section><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/banner.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>